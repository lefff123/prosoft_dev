     1                                  section .data
     2 00000000 746573742E74787400          filename db 'test.txt',0
     3 00000009 48656C6C6F20776F72-         string db 'Hello world!'
     3 00000012 6C6421             
     4 00000015 7375636365737321            scss db 'success!'
     5 0000001D 776572652073637265-         boom db 'were screwed'
     5 00000026 776564             
     6                                  
     7                                  
     8                                  section .bss
     9 00000000 ????????????????            fd resq 1
    10                                  
    11                                  section .text
    12                                      global _start
    13                                  
    14                                      _start:
    15                                      ; создаем файл
    16                                  
    17 00000000 B802000000                  mov rax ,2
    18 00000005 48BF-                       mov rdi, filename
    18 00000007 [0000000000000000] 
    19 0000000F BE42020000                  mov rsi, 0o1102
    20 00000014 BAA4010000                  mov rdx, 0o644
    21                                      
    22 00000019 0F05                        syscall
    23                                  
    24 0000001B 48890425[00000000]          mov [fd], rax
    25                                  
    26                                      ;записываем строку
    27 00000023 B801000000                  mov rax, 1
    28 00000028 488B3C25[00000000]          mov rdi, [fd]
    29 00000030 48BE-                       mov rsi, string
    29 00000032 [0900000000000000] 
    30 0000003A BA0C000000                  mov rdx, 12
    31 0000003F 0F05                        syscall
    32                                  
    33                                  
    34 00000041 4883F80C                    cmp rax, 12 ; проверяем вывод в файл
    35 00000045 7547                        jne bad
    36                                  
    37                                      ;закрываем файл
    38 00000047 B803000000                  mov rax, 3
    39 0000004C 488B3C25[00000000]          mov rdi, [fd]
    40 00000054 0F05                        syscall
    41                                  
    42                                      ;выводим строку
    43                                  
    44 00000056 B801000000                  mov rax,1
    45 0000005B BF01000000                  mov rdi,1
    46 00000060 48BE-                       mov rsi, string
    46 00000062 [0900000000000000] 
    47 0000006A BA0C000000                  mov rdx, 12
    48 0000006F 0F05                        syscall
    49                                  
    50                                  
    51                                      
    52                                      ;подготавливаемся к выводу отчета
    53 00000071 B801000000                  mov rax,1
    54 00000076 48BE-                       mov rsi, scss
    54 00000078 [1500000000000000] 
    55 00000080 BA08000000                  mov rdx, 8
    56 00000085 0F05                        syscall
    57 00000087 BF00000000                  mov rdi, 0 
    58                                  
    59 0000008C EB16                        jmp exit
    60                                  
    61                                      bad:
    62 0000008E 48BE-                           mov rsi, boom
    62 00000090 [1D00000000000000] 
    63 00000098 BA0B000000                      mov rdx, 11
    64 0000009D 0F05                            syscall
    65 0000009F BF01000000                      mov rdi, 1
    66                                  
    67                                      exit:
    68 000000A4 B83C000000                      mov rax, 60
    69 000000A9 0F05                            syscall
